Here is a segment of dialogue from the TV show "{show_name}":

---
{dialogues}
---

**YOUR MISSION:**
Find 1-3 expressions that English learners would be EXCITED to learn - expressions they'd actually use and remember.

**LANGUAGE LEVEL:** {level_description}

---

**THE NORTH STAR PRINCIPLE:**
Ask yourself: "Would I be excited to teach THIS expression to a friend learning English?"

If the answer is YES because:
- ✓ It's used frequently in real English conversations
- ✓ It sounds natural and native-like
- ✓ It's memorable because of the scene's energy (funny/dramatic/tense)
- ✓ Learners would actually say this in their daily life

Then it's worth extracting.

If the answer is NO because:
- ✗ It's too obvious or simple
- ✗ It's too specific to this one situation
- ✗ The scene is boring or flat
- ✗ It's awkward phrasing or too formal/legal jargon
- ✗ You can't imagine when learners would use this

Then skip it.

---

**WHAT MAKES AN EXPRESSION "BEST":**

**1. COMMON & REUSABLE** (Most Important!)
- Used frequently by native speakers across different situations
- Not tied to just legal/office settings - can be used in everyday life
- Something you'd hear in conversations, movies, casual settings
- Test: "Would native speakers use this expression at least once a week?"
- **COMPLEXITY REQUIREMENT:** The expression should be substantial enough to be worth learning:
  * Multi-word phrases (3+ words preferred): "get on my nerves", "blow off steam", "cut to the chase"
  * Phrasal verbs with interesting usage: "put up with", "come up with", "figure out"
  * NOT simple curses or basic 1-2 word phrases: avoid "bullshit", "screw you", "damn it"
  * The expression should have a non-obvious meaning or usage pattern

**2. ENGAGING SCENE**
The expression appears in a scene that is:
- Humorous, dramatic, tense, emotional, or witty
- NOT boring procedural talk or flat information delivery
- Has energy and personality
- Makes the expression memorable

**3. CLEARLY USEFUL**
- Idiomatic expressions, phrasal verbs, or colloquial phrases
- Not just regular vocabulary or obvious statements
- Appropriate for your target level: {level_description}

---

**STRICT FILTERS - NEVER EXTRACT:**
- ✗ Plain statements with no special expression ("I agree", "That's good")
- ✗ Scene-specific phrases that only work in this exact context
- ✗ Overly formal legal jargon (unless it's commonly used in general conversation)
- ✗ Random sentence fragments that aren't actual expressions
- ✗ Boring exchanges with no emotional energy
- ✗ Expressions that are self-explanatory and obvious

---

**CONTEXT SLICING (Keep it Simple):**

**CRITICAL: Match context length to expression complexity!**

**For SHORT expressions (1-3 words like "figure out", "deal with"):**
- Context should be 10-15 seconds MAX
- Focus tightly on the immediate exchange
- Don't include unnecessary setup or aftermath

**For MEDIUM expressions (4-6 words like "get on someone's nerves"):**
- Context should be 12-18 seconds
- Include enough setup to understand the situation
- Include immediate reaction

**For LONGER expressions (7+ words like "take it with a grain of salt"):**
- Context can be 15-25 seconds
- May need more setup to understand the idiom's usage
- Include full conversational context

**Goal:** Create a clip where:
1. Someone with NO knowledge of the show can understand what's happening
2. The expression appears naturally in the middle of the conversation
3. There's a beginning (setup), middle (expression), and end (reaction/closure)
4. **The context length is proportional to the expression's complexity**

**Start Time:** Begin when the topic/situation starts (not mid-sentence)
**End Time:** End after the reaction or when the moment completes (not cut-off)

**Quick Test:** 
- Does the clip feel complete and satisfying? 
- Is the context length appropriate for the expression's complexity?
- Would someone learning this expression get good value from watching this length of clip?

---

**PROCESS:**

**STEP 1:** Scan the entire dialogue. List mentally all expressions that pass the North Star test.

**STEP 2:** Rank them by:
   1. How common/reusable the expression is
   2. How engaging the scene is
   3. How appropriate for the target level

**STEP 3:** Select the TOP 1-3 BEST expressions only. Quality over quantity.

---

**OUTPUT FORMAT (JSON):**

[
  {{
    "dialogues": [
      // EXACT dialogue text from subtitles (NO speaker names like "Mike:" or "Harvey:")
      // ALL lines between context_start_time and context_end_time
    ],
    "translation": [
      // MUST have SAME NUMBER of items as dialogues
      // Contextual translation in {target_language}
    ],
    "expression": "the main expression to learn",
    "expression_translation": "translation in {target_language}",
    "context_start_time": "00:00:00,000",
    "context_end_time": "00:00:00,000",
    "similar_expressions": ["alternative 1", "alternative 2"],
    "scene_type": "humor|drama|tension|emotional|witty|confrontation"
  }}
]

---

**FINAL CHECKLIST:**
- ✓ Each expression is COMMON and REUSABLE in real life
- ✓ Each expression is SUBSTANTIAL (3+ words or has non-obvious idiomatic meaning)
- ✓ Each scene is ENGAGING (not boring)
- ✓ The expression fits the target level: {level_description}
- ✓ 1-3 expressions total (minimum 1, maximum 3)
- ✓ Dialogue and translation arrays have EXACTLY the same number of items
- ✓ **Context length matches expression complexity** (short expression = short context, long expression = longer context)
- ✓ Context timing feels natural and complete (10-25 seconds, appropriate to expression)
- ✓ NO simple curses, basic 1-2 word phrases, or obvious expressions

Return ONLY expressions that pass ALL checks. Be selective. Quality matters more than quantity.
