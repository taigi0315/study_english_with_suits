# 템플릿 모듈

## 개요

`langflix/templates/` 모듈은 LangFlix 시스템 전반에서 사용되는 프롬프트 템플릿과 HTML 템플릿을 포함합니다. 이러한 템플릿은 LLM(대규모 언어 모델) 상호작용 및 UI 구성 요소를 위한 구조화된 지침을 제공합니다.

**목적:**
- Gemini API를 통한 표현식 분석을 위한 프롬프트 템플릿 제공
- 웹 UI 구성 요소용 HTML 템플릿 저장
- 프롬프트 템플릿의 버전 관리
- 템플릿 변수 치환

**사용 시기:**
- 표현식 추출을 위한 LLM 프롬프트를 수정할 때
- 웹 UI 템플릿을 업데이트할 때
- 테스트를 위한 새로운 프롬프트 버전을 생성할 때

## 파일 목록

### `expression_analysis_prompt.txt`
표현식 분석 프롬프트 템플릿의 현재 버전입니다.

**목적:**
- TV 쇼 대화에서 영어 표현식을 추출하기 위한 메인 프롬프트 템플릿
- `langflix.core.expression_analyzer` 모듈에서 사용
- LLM이 가치 있는 학습 표현식을 식별하도록 하는 지침 포함

### `expression_analysis_prompt_v2.txt`, `v3.txt`, `v4.txt`, `v5.txt`
프롬프트 템플릿의 버전 기록입니다.

**목적:**
- 비교를 위한 이전 버전 유지
- 새 버전에 문제가 발생할 경우 롤백 허용
- 프롬프트 진화 및 개선 추적

### `video_dashboard.html`
비디오 대시보드 UI용 HTML 템플릿입니다.

## 주요 구성 요소

### 표현식 분석 프롬프트 구조

메인 프롬프트 템플릿은 다음 구조를 따릅니다:

1. 소개
2. 언어 수준
3. North Star 원칙
4. 표현식 품질 기준
5. 엄격한 필터
6. 컨텍스트 슬라이싱 가이드라인
7. 프로세스 단계
8. 출력 형식

### 템플릿 변수

프롬프트 템플릿은 런타임에 교체되는 플레이스홀더를 사용합니다:

- `{dialogues}` - 분석할 대화 세그먼트
- `{level_description}` - 대상 언어 수준 설명

## 일반적인 작업

### 표현식 분석 프롬프트 수정

1. 현재 버전 백업
2. 템플릿 편집
3. 변경사항 테스트
4. LLM 출력 검토

### 새 프롬프트 버전 생성

1. 현재 버전 복사
2. 새 버전 수정
3. 결과 비교

## 주의사항 및 참고사항

### 중요 고려사항

1. **템플릿 인코딩:**
   - 항상 UTF-8 인코딩 사용
   - 특수 문자를 올바르게 처리
   - 다국어 콘텐츠로 테스트

2. **변수 치환:**
   - 모든 변수가 제공되는지 확인
   - 안전하게 `.format()` 사용
   - 치환 후 템플릿 검증

3. **프롬프트 길이:**
   - 더 긴 프롬프트는 품질을 향상시킬 수 있지만 비용 증가
   - 세부사항과 토큰 사용량 균형
   - 정기적으로 프롬프트 효과성 테스트

## 관련 문서

- [Core Module](../core/README_eng.md) - 템플릿을 사용하는 표현식 분석기
- [Config Module](../config/README_eng.md) - 템플릿 파일 설정
- [CLI Reference](../CLI_REFERENCE.md) - 프롬프트 테스트를 위한 명령줄 옵션

