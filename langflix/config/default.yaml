# LangFlix Default Configuration
# This file contains all default settings for the LangFlix application
# To customize these settings, copy this file to config.yaml at the project root

# ============================================================================
# Application Settings
# ============================================================================
app:
  # Name of the TV show for prompting
  show_name: "Suits"
  
  # Template file for expression analysis prompt
  template_file: "expression_analysis_prompt_v2.txt"

# ============================================================================
# LLM (Language Learning Model) Settings
# ============================================================================
llm:
  # Maximum characters of subtitle content per chunk
  # Total prompt = content (1680) + timestamps (~2.1x) + template overhead (~6500) â‰ˆ 10K
  max_input_length: 1680
  
  # Default language proficiency level for expression extraction
  # Options: beginner, intermediate, advanced, mixed
  default_language_level: "intermediate"
  
  # Target language for translations
  target_language: "Korean"
  
  # API retry configuration
  max_retries: 3
  retry_backoff_seconds: [3, 6, 12]  # Wait times between retries
  
  # Generation configuration
  temperature: 0.1
  top_p: 0.8
  top_k: 40

# ============================================================================
# Language Proficiency Levels
# ============================================================================
language_levels:
  beginner:
    description: "A1-A2 level. Focus on basic everyday expressions, simple phrasal verbs, and common conversational phrases used in daily life. Avoid complex idioms or advanced vocabulary."
    examples: "Let's go, I'm sorry, How are you, Can you help me, What's up"
  
  intermediate:
    description: "B1-B2 level. Focus on commonly used idiomatic expressions, standard phrasal verbs, and colloquial phrases that appear frequently in casual and professional contexts."
    examples: "Get the ball rolling, Call it a day, Piece of cake, Break the ice, On the same page"
  
  advanced:
    description: "C1-C2 level. Focus on sophisticated idioms, nuanced expressions, professional jargon, and complex colloquialisms that native speakers use in various contexts."
    examples: "Read between the lines, Cut to the chase, Play devil's advocate, Bite off more than you can chew"
  
  mixed:
    description: "All levels. Extract valuable expressions regardless of difficulty level, but prioritize practical, commonly-used phrases that appear in authentic conversations."
    examples: "Any useful expression from basic to advanced"

# ============================================================================
# Video Processing Settings
# ============================================================================
video:
  # Video codec for encoding
  codec: "libx264"
  
  # Audio codec
  audio_codec: "aac"
  
  # Encoding preset (ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow)
  preset: "fast"
  
  # Constant Rate Factor - quality (0-51, lower = better quality, 18-28 is good range)
  crf: 23
  
  # Output resolution
  resolution: "1280x720"
  
  # Frames per second
  fps: 30
  
  # Video bitrate
  bitrate: "2000k"
  
  # Audio bitrate
  audio_bitrate: "128k"

# ============================================================================
# Font Configuration
# ============================================================================
font:
  sizes:
    default: 36                  # Default font size (increased from 32)
    expression_dialogue: 48      # Full dialogue line containing expression (increased from 40)
    expression: 72               # Main expression/phrase (emphasized, larger) (increased from 58)
    expression_dialogue_trans: 44  # Translation of dialogue line (increased from 36)
    expression_trans: 60         # Translation of expression (emphasized) (increased from 48)
    translation: 48              # Legacy: Translation text (for backward compatibility) (increased from 40)
    similar: 42                  # Similar expressions text (increased from 32)
  
  # Automatically detect platform-specific fonts
  auto_detect: true

# ============================================================================
# Processing Settings
# ============================================================================
processing:
  # Maximum characters per subtitle chunk for LLM processing
  chunk_size: 8000
  
  # Expression count limits per chunk
  min_expressions_per_chunk: 1
  max_expressions_per_chunk: 3
  
  # Automatically cleanup temporary files after processing
  temp_file_cleanup: true

# ============================================================================
# Video Transition Settings
# ============================================================================
transitions:
  # Enable smooth transitions between video segments
  enabled: true
  
  # Transition from context video to educational slide
  context_to_slide:
    type: "xfade"           # Options: xfade, fade, none
    effect: "slideup"       # xfade effects: fade, wipeleft, wiperight, slideup, slidedown, etc.
    duration: 0.3           # Duration in seconds
  
  # Transition between different expressions
  expression_to_expression:
    type: "xfade"            # Options: fade, xfade, none
    effect: "slideleft"
    duration: 0.3           # Duration in seconds

# ============================================================================
# Text-to-Speech (TTS) Settings
# ============================================================================
tts:
  # Enable TTS for expression audio
  enabled: true
  
  # TTS provider (lemonfox, google, aws, etc.)
  provider: "google"
  
  # Gemini TTS Configuration (Google GenAI library)
  google:
    # api_key: "set via GEMINI_API_KEY environment variable"
    language_code: "en-us"  # Original language (English) for audio generation
    model_name: "gemini-2.5-flash-preview-tts"  # Gemini TTS model for high-quality synthesis
    response_format: "wav"  # Audio format (WAV for new API)
    # SSML speaking rate options: x-slow, slow, medium, fast, x-fast, or percentage like "0.8"
    speaking_rate: "slow"  # SSML rate for slower, clearer speech
    # SSML pitch options: x-low, low, medium, high, x-high, percentage like "+10%" or semitones like "-2st"
    pitch: "-2st"  # SSML pitch: one semitone lower for more natural sound
    # Voice selection for TTS generation (uses Gemini voices from https://ai.google.dev/gemini-api/docs/speech-generation#voices)
    alternate_voices: ["Despina", "Puck"]  # Available Gemini voices
  
  # LemonFox TTS Configuration (fallback)
  lemonfox:
    # api_key: "set via LEMONFOX_API_KEY environment variable"
    voice: "sarah"
    response_format: "mp3"  # mp3 format as requested
  # 
  # aws:
  #   region: "us-east-1"
  #   voice_id: "Joanna"
  #   engine: "neural"

# ============================================================================
# Short Video Settings
# ============================================================================
short_video:
  # Enable short video generation
  enabled: true
  
  # Video resolution (width x height) - 9:16 format for social media
  resolution: "1080x1920"
  
  # Target duration for each batch (seconds)
  target_duration: 120
  
  # Allow variance (+/- seconds)
  duration_variance: 10

